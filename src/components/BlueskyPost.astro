---
import { fetchPost, renderPost } from 'bluesky-embed/post/core';

interface Props {
	uri: string;
	contextless?: boolean;
}

const { uri, contextless = false } = Astro.props;

const data = await fetchPost({ uri, contextless });
const render = renderPost(data);
---

<bluesky-post src={data.thread?.post.uri}>
	<Fragment set:html={render} />
</bluesky-post>
