---
import BlueskyPost from '../../../components/BlueskyPost.astro';
import Layout from '../../../layouts/Layout.astro';

const { actor, rkey } = Astro.params;
const url = `https://bsky.app/profile/${actor}/post/${rkey}`;

Astro.response.headers.set('Cache-Control', 'public, s-maxage=900, stale-while-revalidate=60');
---

<Layout title="Static Bluesky post embeds">
	<main>
		<h1>Statically generated Bluesky post embeds</h1>
		<p>See <a href="https://codeberg.org/mary-ext/astro-bluesky-post">repository</a> for details.</p>
		<BlueskyPost src={url} />
	</main>
</Layout>

<style>
	main {
		margin: auto;
		padding: 1rem;
		width: 550px;
		max-width: calc(100% - 2rem);
		color: white;
	}
	h1 {
		margin-bottom: 1em;
		font-weight: 700;
		font-size: 1.25rem;
		line-height: 1;
		text-align: center;
	}
	p {
		margin-bottom: 1em;
		font-size: 15px;
		line-height: 1;
	}
	a {
		color: #60a5fa;
	}
</style>
